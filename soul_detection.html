<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>Есть ли у Вас душа,  насколько она проявлена?  тест на наличие и развитие самосознания и осознанности. Do you know all sides of your intellect?  test-questionaire on different types of intellect.</title>
<style>
  html, body { min-height:100%; margin:0; overflow-y:auto; font-family:sans-serif; background:#fff; color:#111; }
  .app { display:flex; flex-direction:column; min-height:100vh; background-repeat:repeat; }

  .topbar { display:flex; justify-content:space-between; align-items:center; padding:12px 16px; background:#f5f5f5; border-bottom:1px solid #ddd; }
  .title { font-size:1.2rem; font-weight:600; }
  .score { font-size:1rem; color:#444; }

  .middle { flex:1 1 auto; display:grid; grid-template-columns:repeat(auto-fit, minmax(220px, 1fr)); gap:12px; padding:12px; align-items:center; justify-items:center; }

  .card { position:relative; width:100%; aspect-ratio:3 / 4; max-width:420px; border:1px solid #ddd; border-radius:8px; background:#fff; box-shadow:0 2px 8px rgba(0,0,0,0.06); overflow:hidden; transition:transform 120ms ease; will-change:transform; }
  .card.hovered { transform: scale(1.07); }
  
  .minicard { position:relative; width:100%; aspect-ratio:3 / 4; max-width:160px; border:1px solid #ddd; border-radius:8px; background:#fff; box-shadow:0 2px 8px rgba(0,0,0,0.06); overflow:hidden; transition:transform 120ms ease; will-change:transform; }
  .minicard.hovered { transform: scale(1.07); }
  .microcard { position:relative; width:80%; aspect-ratio:3 / 4; max-width:80px; border:1px solid #ddd; border-radius:8px; background:#fff; box-shadow:0 2px 8px rgba(0,0,0,0.06); overflow:hidden; transition:transform 120ms ease; will-change:transform; }
  .microcard.hovered { transform: scale(1.07); }

  .imgWrap { position:absolute; inset:8px; display:flex; align-items:center; justify-content:center; transition:transform 120ms ease; will-change:transform; }
  .imgWrap.hovered { transform: scale(1.07); }

  .bigImg { width:100%; height:100%; object-fit:cover; border-radius:4px; user-select:none; -webkit-user-drag:none; pointer-events:none; }

  .label { position:absolute; font-weight:700; background:rgba(255,255,255,0.9); border:1px solid #ddd; border-radius:4px; padding:2px 6px; pointer-events:none; }
  .label.right-down { right:8px; bottom:8px; }
  .label.left-up { left:8px; top:8px; }

  .bottom { flex:0 0 auto; padding:8px 12px 12px; border-top:1px solid #ddd; background:#fff; }
  .indicator { position:relative; height:56px; border:1px solid #ddd; border-radius:8px; background:white; overflow:hidden; }
  .indicatorImg { position:absolute; top:50%; transform:translateY(-50%); width:56px; height:56px; object-fit:contain; user-select:none; -webkit-user-drag:none; }
  .indicatorLeft { left:8px; }
  .indicatorRight { right:8px; }
  .indicatorMoving { left:8px; }
  .progressRed { position:absolute; top:8px; bottom:8px; left:72px; width:0; background:linear-gradient(to right, rgba(255,0,0,0.25), rgba(255,0,0,0.35)); border-radius:6px; pointer-events:none; }
  .titleImg {float: left; margin: 12px; width:100px; height:100px; padding:8px 12px 12px;}

</style>
</head>
<body>
  <div class="app" id="app">
    <div class="topbar">
	<!-- <img class="titleImg" id="titleImgID" alt="Человек вопроса" />  -->
	
      <div class="title" id="title">
	  <img class="titleImg" id="titleImgID" alt="Человек вопроса" />
	  <p>
	  Ready   
	  </p>	  
	  </div>
      <div class="score" id="score"> </div>
    </div>

    <div class="middle"></div>

    <div class="bottom">
      <div class="indicator">
        <img class="indicatorImg indicatorLeft" id="indicatorLeft" alt="left" />
        <img class="indicatorImg indicatorMoving" id="indicatorMoving" alt="moving" />
        <img class="indicatorImg indicatorRight" id="indicatorRight" alt="right" />
        <div class="progressRed" id="progressRed"></div>
      </div>
    </div>
  </div>

<script>
document.addEventListener('DOMContentLoaded', () => {
  // Parameters
  const constBoarders = true; // true: move/scale inside borders; false: move/scale the entire card
  const move_direction = "far-and-near"; // "up-and-down" | "left-and-right" | "far-and-near"
  const percOfAverSize=75;
  const percUvelSize=25;
  const place_names_images = "right-and-down"; // "right-and-down" | "left-and-up" | "no"
  const big_size_images_coefficient = 1; // global scale for big images
  const percUvelThenHovered=75;
  const time_after_click = 100*20; // ms to display aClick/bcClick before advancing
  const delay_of_subsequent_appearence_ms = 5*10; // 0 = simultaneous; >0 two-phase sequential reveal
  const timesCardsAppearSlowerThanIndicator = 3; //MY
  const imgFolder = 'soul_detection_img/';
  const AMBIENT_DURATION_MS = 2000;  //not used if no mp3
  const INDICATOR_GOING_FULLTIME_MS = 7500*20;
  const CLICK_AUDIO_A = imgFolder+'a.mp3';
  const CLICK_AUDIO_BC = imgFolder+'bc.mp3';
  //lettersOfAnswers = ['-','-','-','-','-','-','-','-','-','-','-','-','-','-'];

  const number_of_big_size_images = [4,4,4,5,4,3,5,4,3,3,3,3,4,5];
  //const imgClickReaction = ['lennon','shvarz','descart','skorovod','gellapApe','chinaEmper','descart','descart','descart','descart','descart','descart','descart','descart'];
  const imgClickReaction = ['lennon','shvarz','descart','skorovod','descart','shvarz','lennon','skorovod','descart','shvarz','lennon','skorovod','lennon','descart'];

  const taskStr=' ... Подумайте над ситуацией, посмотрите на приближающиеся ответы и нажмите на понравившийся ответ, который Вам ближе других';
  const nameOfTest='Тест Тьюринга-Мищенко на наличие души(самосознания): ';

  const buttonTGstr = "Ещё, свои результаты, для более подробного анализа и советов, можно оставить в виде комментария под анонсом этого теста в телеграм-канале (кнопка внизу, там же можно посмотреть результаты других и их обсуждения)";


  const names_of_big_size_images = [
  	['Лично мне всё равно. Потомки могут общаться и с другими видео-ИИ, Мне достаточно что после меня для них просто останутся мои фото, мои тексты, мои видео, и т.д.',
	'Не уверен(а) с кем лучше общаться:  со мной или с другими видео-ИИ',
	'Я бы хотел(а) умереть как нормальный человек, а не превратиться в компьютерную программу',
	'Я хотел(а) бы  продолжать  жизнь в виде программы, потому что так я смогу продолжать видеть своих близких людей и далёких потомков',],
	['Не возьму. Продолжать мою работу и семейные дела будет мой клон, но, по сути, зачем это мне?',
	'Возьму для окружающих. Я понимаю главу “Реплэйсемент технолоджис”, которого убивает Шварцнеггер. Как я понял(а), он клонирует своих сотрудников(и себя, в том числе) для того чтобы корпорация продолжала работать. Как я понял(а), он заботится не о себе а о деле',
	'Я не уверен(а). Меня беспокоит то, с кем столкнулся герой Шварцнеггера: а вдруг я встречу свой клон? Кто из нас имеет права на мою семью, мою жизнь?',
	'Я открыт(а) для таких технологий продления жизни. Для того, чтобы я вернулся(вернулась) и продолжил(а) жить после аварии, я заплатил(а) бы гораздо больше чем за страховку от несчастного случая, которая помогает в случае травм, но не спасает в случае смерти'],
    ['Мы не можем быть уверены в том, что мы видим, слышим и вообще ощущаем. Мы не можем быть уверены: реальность ли всё вокруг, сон ли или другая, более реалистичная, иллюзия. С другой стороны, сами наши ощущения и мысли точно существуют.',
	'Если человек не мыслит, значит его сознание не функционирует, то есть, он не существует.',
	'Активная мыслительная деятельность – признак здорового и долго существующего человека.',
	'Я не очень интересуюсь французскими  философами и что они там говорили.'],
    ['Я вспоминаю или стараюсь понять кем я был(а), что чувствовал(а), как смотрел(а) на мир глазами того ребёнка.',
	'Меня смущает то, каким(какой) я был(а). Теперь я изменился(лась), в этом главное различие',
	'Я горжусь тем насколько многого я достигл(а) с тех времён. Достижения - главное различие',
	'Я представляю прошлое, но не чувствую ничего особенного. Никакой особенной разницы между разглядыванием своих фотографий и фотографий друзей',
	'Я не очень интересуюсь средневековыми, тем более украинскими, философами и мистикой с вопрощением в портреты:) Ещё скажите что портреты оживают или вылезают из своих рамок:)'],
    ['Если снимет. Обезьяна понимает, что в зеркале – она, а это понимание означает наличие самосознания',
	'Если не снимет. С бумажной шапкой она будет казаться себе отличной от остальных обезьян (например, важнее). А это означает наличие самосознания',
	'Если снимет. Обезьяна рассердится, а значит, у неё есть своя личность и свой характер',
	'Не думаю, что этот тест имеет отношение к самосознанию. Лучше бы этот психолог изучал способности планирования, это было бы ближе к теме'],
	['Нельзя проверить кто он. Если и то что видит бабочка и то что видит император одинаково реалистичное, то.в принципе нельзя проверить.    И вообще, может то что мы видим вокруг – это сон, а может – не сон',
	'Не уверен(а) можно ли проверить. Скорее это какая-то особенность психики. В душе бабочка, а снаружи – император. Такая вот транс-персона:)',
	'И так понятно, что он – не бабочка, а император. Каждому может что-то казаться, но реальность есть реальность, она существует. А сон есть сон, его не существует. Всегда найдутся способы проверить, что существует, а что просто кажется'],
	['Я хотел(а) бы жить в изоляционной камере',
	'Я бы выбрал(а) изоляционную камеру, но боюсь, что за многие годы я там ослепну и сойду с ума',
	'Ни то ни другое не проходит, лучше уж вообще умереть как нормальный человек',
	'И то и другое – это одно и то же: ничего не видеть и ничего не слышать',
	'Я хотел(а) бы не помнить себя'],
    ['Мне кажется, я тогда мог(ла) удивиться: как же, меня не было? А кто же тогда всё это видел?',
	'Да, могу представить или даже понмю что-то такое. Не верилось что такое может быть в принципе: мой дом, мои родители, или вот моя мама рядом есть, а меня нет',
	'Возможно я когда-то подумал(а) об этом, но это было не важно',
	'Нет, в детстве я никогда не думал(а) о времени когда меня ещё не было.  Да и потом не представлял(а) мир без меня, незачем'],
	['Да, помню, да и сейчас интересно, что это, по сути, невозможно представить: как это: что-то не заканчиваеться никогда',
	'Нет, у меня были свой мир (друзья, игры, дела в школе и дома) и времени представлять “что там далеко в космосе” не было. Да и сейчас об этом думать не так уж интересно',
	'Не думаю, что об этом кто-то задумывается. Я, как и все нормальные дети, строил(а) свои детские планы и решал(а) свои детские проблемы'],
	['Не соглашусь.  Зачем мне чтобы вместо меня, как я есть, жил как-то специально омоложённый клон?',
	'Не уверен(а) что всё сработает правильно и я действительно окажусь в новом теле. Лучше я продолжу жить в старом, буду изучать обычные методы как жить дольше и здоровее',
	'Я открыт(а) для радикальных методов оздоровления и  омоложения, в том числе и для создания более молодых клонов и копирования сознания'],
	['Для меня это не важно. Как говорилось в каком-то стихотворении, “Меня там нет”',
	'Это важно для моих близких и знакомых, для их спокойствия',
	'Да, для меня важно чтобы, и после смерти, ко мне относились с уважением'],
	['Не соглашусь. Новый мозг – это, вероятнее всего, будет новый человек',
	'Не уверен(а) что всё сработает правильно, что все мои мысли и весь я окажусь в новом мозге. Лучше я продолжу жить в старом, буду изучать обычные методы как жить дольше и здоровее',
	'Я открыт(а) для радикальных методов лечения, в том числе и для замены мозга и копирования сознания'],
	['Лично мне всё равно: будет ли виртуальный мир построен с копией моего сознания или без моего сознания',
	'Не уверен(а) какой виртуальный мир будет лучше: с моим сознанием или с какими-то другими сознаниями',
	'Я бы предпочёл(предпочла) умереть как нормальный человек, а не превратиться в компьютерную программу',
	'Я хотел(а) бы вот так продолжать  жизнь в виртуальном мире'],
	['Я – это мои мысли, внутренний диалог с самим собой, мой внутренний мир и то как я его ощущаю (ощущаю свои мысли, образы) и им манипулирую, мой взгляд на самого себя',
	'Я – это мои воспоминания, моя память, моя цельность с тем человеком, которым я был в юности, отрочестве, детстве',
	'Я – это  моя личность, мой характер, особенности моего поведения и восприятия мира, всё что делает меня неповторимым и отличным от других',
	'Я – это мои дела, мои планы, мои проекты, то, над чем я работаю, чему посвящаю свою жизнь и как формирую свою жизнь',
	'Я – это всё, что меня окружает: моя семья, моя работа, мой дом. Это также моё тело, которое родилось, развивается, меняется. Короче, это вся моя жизнь']
	//['й','й','й','й','й','й','й','й','й','й','й','й','й','й','й']
	//['й','й','й','й','й','й','й','й','й','й','й','й','й','й','й']
  ];
/*
  const screens = [ //MY
    { title:nameOfTest+'Вопрос о Джоне Ленноне и его перенесении на новый носитель Мыслящей материи.  После смерти Джона Леннона, его песни, литературные произведения, картины, интервью, а также многие другие сохранившиеся мысли и образы, послужили основой для проекта воссоздания интеллекта Леннона в искусственном виде.  Сейчас с искусственным Леноном можно пообщаться в сети.  Также искусственный интеллект используется для “дописывания недоделанных песен” Леннона. Искусственный Леннон уже исполнил одну новую песню, и его голос практически не отличим.  Подобным же образом возможно записывание мыслей, фоторафий, видео и воображаемых образов любого человека. Накопленная за всю жизнь информация может, в момент прекращения жизни, быть использована для создания искусственной копии этого человека, которая будет продолжать жить в интернете или в сети компьютеров близких ему людей и потомков  Что Вы думаете о продолжении Вашей жизни в таком “искусственном” виде? Хотелось были Вам, таким образом, продолжать общаться, как с близкими Вам людьми, так и с далёкими потомками?   ...'+taskStr, 
	titleAfter:'',
	indicator:{left:imgFolder+'l1i_left.jpg', movingPrefix:imgFolder+'l1i_moving', right:imgFolder+'l1i_right.jpg'}, ambient:imgFolder+'l1.mp3', background:imgFolder+'l1background.jpg' },
	{ title:nameOfTest+'Вопрос о фильме “6ой день”.  Научно-фантастическое предположение фильма “6ой день” (с Арнольдом Шварцнеггером в главной роли) состоит в том, что корпорация Реплэйсемент технолоджис борется за свои интересы с помощью агентов, которые постоянно подвергаются смертельной опасности. В связи с этим, у агентов есть своеобразная медицинская страховка, точнее, страхование жизни. А именно, их память регулярно сканируется и, после смерти, переписывается в специально выращенный клон.  В результате, в случае новых и новых смертей, они, тем не менее, продолжают жить и продолжать бороться за интересы компании. Просто каждый раз, новая копия помнит всё до момента последнего сканирования памяти.   Майкл Дракер, глава Реплэйсемент технолоджис, противостоит, по сюжету, Шварцнеггеру. Сам Шварцнеггер тоже клонирован, в результате чего два Шварцнеггера не знают кто из них имеет право на шварцнеггеровское имущество и семью.   В финале, Шварцнеггер мешает Дракеру в очередной раз клонировать себя и его бесконечная жизнь прекращается.    Возьмёте ли Вы такую медицинскую страховку (точнее, страхование жизни), даже если она стоит всех Ваших материальных накоплений?   ...'+taskStr, 
	titleAfter:'',
	indicator:{left:imgFolder+'l2i_left.jpg', movingPrefix:imgFolder+'l2i_moving', right:imgFolder+'l2i_right.jpg'}, ambient:imgFolder+'l2.mp3', background:imgFolder+'l2background.jpg' },
    { title:nameOfTest+'Вопрос об основах теории мыслящей материи.  Одна из важнейших основ теории Мыслящей материи – это философия Рене Декарта. Известного своим изречением “Я мыслю, значит я существую”. Эта фраза – не просто афоризм, она выражает отношения внутреннего мира и окружающей реальности в философии Декарта. Как Вы думаете, что она означает?     ...'+taskStr, 
	titleAfter:'',
	indicator:{left:imgFolder+'l3i_left.jpg', movingPrefix:imgFolder+'l3i_moving', right:imgFolder+'l3i_right.jpg'}, ambient:imgFolder+'l3.mp3', background:imgFolder+'l3background.jpg' },
    { title:nameOfTest+'Вопрос по мотивам работ Григория Сковороды.  Что Вы чувствуете, когда смотрите на свои детские фотографии? Что думаете о том кем Вы были, кем Вы стали, о связи и различии между Вами-тогда и Вами-сейчас?   Подумайте над ситуацией и нажмите на ответ который Вам кажется ближе других', 
	titleAfter:'',	
	indicator:{left:imgFolder+'l4i_left.jpg', movingPrefix:imgFolder+'l4i_moving', right:imgFolder+'l4i_right.jpg'}, ambient:imgFolder+'l4.mp3', background:imgFolder+'l4background.jpg' },
    { title:nameOfTest+'Вопрос Гордона Гэллапа.   Психолог Гордон Гэллап изучал в 70-х годах реакцию обезьян на своё отражение в зеркале. Результатом его исследований является зеркальный тест, состоящий в следуюшем. На часть тела обезьяны, видимую только в зеркале(чаще всего на голову), незаметно прикрепляется бумага. В зависимости от того будет ли животное, увидев себя в зеркале, исследовать или пытаться снять эту бумажку, делается вывод, обладает ли животное самосознанием.  Попробуйте догадаться, когда обезьяна будет считаться осознанной: в том случае если она снимет или если она не снимет бумажку со своей головы.   ...'+taskStr, 
	titleAfter:'',
	indicator:{left:imgFolder+'l5i_left.jpg', movingPrefix:imgFolder+'l5i_moving', right:imgFolder+'l5i_right.jpg'}, ambient:imgFolder+'l5.mp3', background:imgFolder+'l5background.jpg' },
    { title:nameOfTest+'Вопрос китайского императора.  По легенде, одному китайскому императору постоянно снился сон о том, что он – затерянная в джунглях бабочка. В результате, император стал опасаться что он, на самом деле, не император, которому каждую ночь снится что он – бабочка, а что он, наоборот, – бабочка, которой каждый день снится что она – император.    Может ли такой император, в принципе, проверить кто он?   ...'+taskStr, 
	titleAfter:'',
	indicator:{left:imgFolder+'l6i_left.jpg', movingPrefix:imgFolder+'l6i_moving', right:imgFolder+'l6i_right.jpg'}, ambient:imgFolder+'l6.mp3', background:imgFolder+'l6background.jpg' },
	{ title:nameOfTest+'Вопрос о пьянице и одиночестве.  Представьте, что перед Вами стоит выбор: как провести  остаток жизни (или даже как провести вечность, если Вам предложат бессмертие). И есть только два варианта как провести остаток жизни (или как провести бессмертие):  1: Жить весело и разнообразно, но не помня себя, на автомате, как не помнит себя лунатик или сильно пьяный человек и 2: Жить максимально однообразно, лёжа в полной темноте и тишине изоляционной камеры (изоляционная камера – это нечто вроде ванны напоненной жидкостью с температурой человеческого тела, устроенной так, чтобы человек не ошушал ни своего веса, ни движения воздуха, ничего не видел и не слышал)  Какое из этих двух продолжений жизни Вы бы выбрали?   ...'+taskStr, 
	titleAfter:'',
	indicator:{left:imgFolder+'l7i_left.jpg', movingPrefix:imgFolder+'l7i_moving', right:imgFolder+'l7i_right.jpg'}, ambient:imgFolder+'l7.mp3', background:imgFolder+'l7background.jpg' },
    { title:nameOfTest+'Вопрос о мире без Вас.  В детстве мы часто слышали:  `это было ещё когда тебя не было`. Как Вы думаете (или может даже помните): задумывались ли Вы в детстве, удивлялись ли Вы тогда: как это вообще может быть, чтобы всё вокруг было, а меня не было?    ...'+taskStr, 
	titleAfter:'',
	indicator:{left:imgFolder+'l8i_left.jpg', movingPrefix:imgFolder+'l8i_moving', right:imgFolder+'l8i_right.jpg'}, ambient:imgFolder+'l8.mp3', background:imgFolder+'l8background.jpg' },
    { title:nameOfTest+'Вопрос о бесконечности.   Помните ли Вы что Вас в детстве Вас поразило понятие бесконечности?(обычно первый раз мы слышим это понятие когда нам говорят, что Вселенная бесконечна)   Думаете ли Вы, что Вы тогда пытались представить бесконечность (или может помните что пытались представить бесконечность)? Что думали: как такое может быть что Вселенная бесконечна?  Например, как это может быть: летишь, летишь и звёздное небо в иллюминаторе никогда вообще не кончается?    ...'+taskStr, 
	titleAfter:'',
	indicator:{left:imgFolder+'l9i_left.jpg', movingPrefix:imgFolder+'l9i_moving', right:imgFolder+'l9i_right.jpg'}, ambient:imgFolder+'l9.mp3', background:imgFolder+'l9background.jpg' },	
    { title:nameOfTest+'Вопрос о новом теле.  Наиболее радикальным способом омоложения на много лет можно считать создание клонов, заморозка их на этапе эмбрионов на много лет (такую заморозку делает сейчас репродуктивная медицина) и затем выращивание этих клонов до нужного возраста и копирования состояния мозга старого человека в эти “омоложенные” тела.  Согласились ли бы Вы, в старости, на такую процедуру?   ...'+taskStr, 
	titleAfter:'',
	indicator:{left:imgFolder+'l10i_left.jpg', movingPrefix:imgFolder+'l10i_moving', right:imgFolder+'l10i_right.jpg'}, ambient:imgFolder+'l10.mp3', background:imgFolder+'l10background.jpg' },
    { title:nameOfTest+'Вопрос об отношении к тому что будет после смерти.  Важно ли Вам что будет с Вашим телом после смерти? Важен ли правильный уважительный обряд прощания, традиции захоронения/кремилования/итд?  Прочитайте варианты и нажмите на ответ который Вам ближе', 
	titleAfter:'',
	indicator:{left:imgFolder+'l12i_left.jpg', movingPrefix:imgFolder+'l12i_moving', right:imgFolder+'l12i_right.jpg'}, ambient:imgFolder+'l12.mp3', background:imgFolder+'l12background.jpg' },
	{ title:nameOfTest+'Вопрос о копировании мозга.  Уже сейчас разрабатыватываются медицинские технологии клонирования и замены человеческих органов (таких как печень). В случае заболевания соответствующих органов, они могут быть заменены их копиями с точными размерами и состоянием.  Нет сомнения в том, что, в будущем, подобная замена может производиться для всех органов, включая нервную ткань и сам мозг. В этом случае, больной мозг будет заменнён, на операционном столе, своей копией с точными размерами и состоянием.   Согласились ли бы Вы на такую замену в случае необходимости?.   ...'+taskStr, 
	titleAfter:'',
	indicator:{left:imgFolder+'l11i_left.jpg', movingPrefix:imgFolder+'l11i_moving', right:imgFolder+'l11i_right.jpg'}, ambient:imgFolder+'l11.mp3', background:imgFolder+'l11background.jpg' },
    { title:nameOfTest+'Вопрос о фильме «13-ый этаж».  В 2000 году на премию «Сатурн» (лучший научно-фантастический фильм), были номинированы 2 фильма: «Матрица» и «Тринадцатый этаж», оба о жизни в виртуальном мире.  Разница между фильмами в том, что в «Матрице» люди помещаются в виртуальный мир насильственно, в результате захвата власти искуственным интеллектом. Такого никто по своей воле не захотел бы.  В фильме «Тринадцатый этаж» сознение людей копируется в виртуальный мир после того как они погибли в автомобильной аварии.   Хотели бы Вы чтобы, в случае какой-либо катастрофы, Ваше сознание было бы скопировано для последующей жизни в виртуальном мире?  Прочитайте варианты и нажмите на ответ который Вам ближе', 
	titleAfter:'',
	indicator:{left:imgFolder+'l13i_left.jpg', movingPrefix:imgFolder+'l13i_moving', right:imgFolder+'l13i_right.jpg'}, ambient:imgFolder+'l13.mp3', background:imgFolder+'l13background.jpg' },
	{ title:nameOfTest+'Вопрос о самоидентификации и теории Мыслящей материи,  Одно из психологических следствий теории Мыслящей материи – это  изменение самоидентификации человека. А с чем Вы идентифицируете себя? Вы – это что именно? Понятно, что из перечисленных на следующей странице, самоидентификаций, надо выбрать всё. Но выберите одну, самую важную для Вас самоидентификацию.   Прочитайте варианты и нажмите на ответ который Вам ближе', 
	titleAfter:'',
	indicator:{left:imgFolder+'l14i_left.jpg', movingPrefix:imgFolder+'l14i_moving', right:imgFolder+'l14i_right.jpg'}, ambient:imgFolder+'l14.mp3', background:imgFolder+'l14background.jpg' },
  ];
  const FINAL_BACKGROUND = imgFolder+'FINbackground.jpg';
*/

  const screens = [ //MY
    { title:nameOfTest+'Вопрос о Джоне Ленноне и его перенесении на новый носитель Мыслящей материи . . . . :     После смерти Джона Леннона, его песни, литературные произведения, картины, интервью, а также многие другие сохранившиеся мысли и образы, послужили основой для проекта воссоздания интеллекта Леннона в искусственном виде.  Сейчас с искусственным Леноном можно пообщаться в сети.  Также искусственный интеллект используется для “дописывания недоделанных песен” Леннона. Искусственный Леннон уже исполнил одну новую песню, и его голос практически не отличим.  Подобным же образом возможно записывание мыслей, фоторафий, видео и воображаемых образов любого человека. Накопленная за всю жизнь информация может, в момент прекращения жизни, быть использована для создания искусственной копии этого человека, которая будет продолжать жить в интернете или в сети компьютеров близких ему людей и потомков - - - - - Что Вы думаете о продолжении Вашей жизни в таком “искусственном” виде? Хотелось были Вам, таким образом, продолжать общаться, как с близкими Вам людьми, так и с далёкими потомками?   ...'+taskStr, 
	titleAfter:'',
	indicator:{left:'1i_left.jpg', movingPrefix:'1i_moving', right:'1i_right.jpg'}, ambient:'1.mp3', background:imgFolder+'1background.jpg' },
	{ title:nameOfTest+'Вопрос о фильме “6ой день” . . . . :     Научно-фантастическое предположение фильма “6ой день” (с Арнольдом Шварцнеггером в главной роли) состоит в том, что корпорация Реплэйсемент технолоджис борется за свои интересы с помощью агентов, которые постоянно подвергаются смертельной опасности. В связи с этим, у агентов есть своеобразная медицинская страховка, точнее, страхование жизни. А именно, их память регулярно сканируется и, после смерти, переписывается в специально выращенный клон.  В результате, в случае новых и новых смертей, они, тем не менее, продолжают жить и продолжать бороться за интересы компании. Просто каждый раз, новая копия помнит всё до момента последнего сканирования памяти.   Майкл Дракер, глава Реплэйсемент технолоджис, противостоит, по сюжету, Шварцнеггеру. Сам Шварцнеггер тоже клонирован, в результате чего два Шварцнеггера не знают кто из них имеет право на шварцнеггеровское имущество и семью.   В финале, Шварцнеггер мешает Дракеру в очередной раз клонировать себя и его бесконечная жизнь прекращается - - - - - Возьмёте ли Вы такую медицинскую страховку (точнее, страхование жизни), даже если она стоит всех Ваших материальных накоплений?   ...'+taskStr, 
	titleAfter:'',
	indicator:{left:'2i_left.jpg', movingPrefix:'2i_moving', right:'2i_right.jpg'}, ambient:'2.mp3', background:imgFolder+'2background.jpg' },
    { title:nameOfTest+'Вопрос об основах теории мыслящей материи . . . . :     Одна из важнейших основ теории Мыслящей материи – это философия Рене Декарта. Известного своим изречением “Я мыслю, значит я существую”. Эта фраза – не просто афоризм, она выражает отношения внутреннего мира и окружающей реальности в философии Декарта - - - - - Как Вы думаете, что она означает?     ...'+taskStr, 
	titleAfter:'',
	indicator:{left:'3i_left.jpg', movingPrefix:'3i_moving', right:'3i_right.jpg'}, ambient:'3.mp3', background:imgFolder+'3background.jpg' },
    { title:nameOfTest+'Вопрос по мотивам работ Григория Сковороды . . . . :     Что Вы чувствуете, когда смотрите на свои детские фотографии? Что думаете о том кем Вы были, кем Вы стали, о связи и различии между Вами-тогда и Вами-сейчас?   Подумайте над ситуацией и нажмите на ответ который Вам кажется ближе других', 
	titleAfter:'',	
	indicator:{left:'4i_left.jpg', movingPrefix:'4i_moving', right:'4i_right.jpg'}, ambient:'4.mp3', background:imgFolder+'4background.jpg' },
    { title:nameOfTest+'Вопрос Гордона Гэллапа о мыслящей материи и обезьянах . . . . :     Психолог Гордон Гэллап изучал в 70-х годах реакцию обезьян на своё отражение в зеркале. Результатом его исследований является зеркальный тест, состоящий в следуюшем. На часть тела обезьяны, видимую только в зеркале(чаще всего на голову), незаметно прикрепляется бумага. В зависимости от того будет ли животное, увидев себя в зеркале, исследовать или пытаться снять эту бумажку, делается вывод, обладает ли животное самосознанием - - - - - Попробуйте догадаться, когда обезьяна будет считаться осознанной: в том случае если она снимет или если она не снимет бумажку со своей головы.   ...'+taskStr, 
	titleAfter:'',
	indicator:{left:'5i_left.jpg', movingPrefix:'5i_moving', right:'5i_right.jpg'}, ambient:'5.mp3', background:imgFolder+'5background.jpg' },
    { title:nameOfTest+'Вопрос китайского императора . . . . :     Не только герой Шварцнеггера испытал раздвоение. По легенде, одному китайскому императору постоянно снился сон о том, что он – затерянная в джунглях бабочка. В результате, император стал опасаться что он, на самом деле, не император, которому каждую ночь снится что он – бабочка, а что он, наоборот, – бабочка, которой каждый день снится что она – император - - - - - Может ли такой император, в принципе, проверить кто он?   ...'+taskStr, 
	titleAfter:'',
	indicator:{left:'6i_left.jpg', movingPrefix:'6i_moving', right:'6i_right.jpg'}, ambient:'6.mp3', background:imgFolder+'6background.jpg' },
	{ title:nameOfTest+'Вопрос о пьянице и одиночестве . . . . :     Представьте, что перед Вами стоит выбор: как провести  остаток жизни (или даже как провести вечность, если Вам предложат бессмертие). И есть только два варианта как провести остаток жизни (или как провести бессмертие):  1: Жить весело и разнообразно, но не помня себя, на автомате, как не помнит себя лунатик или сильно пьяный человек и 2: Жить максимально однообразно, лёжа в полной темноте и тишине изоляционной камеры (изоляционная камера – это нечто вроде ванны напоненной жидкостью с температурой человеческого тела, устроенной так, чтобы человек не ошушал ни своего веса, ни движения воздуха, ничего не видел и не слышал) - - - - - Какое из этих двух продолжений жизни Вы бы выбрали?   ...'+taskStr, 
	titleAfter:'',
	indicator:{left:'7i_left.jpg', movingPrefix:'7i_moving', right:'7i_right.jpg'}, ambient:'7.mp3', background:imgFolder+'7background.jpg' },
    { title:nameOfTest+'Вопрос о мире без Вас. . . . . :     В детстве мы часто слышали:  `это было ещё когда тебя не было` - - - - - Как Вы думаете (или может даже помните): задумывались ли Вы в детстве, удивлялись ли Вы тогда: как это вообще может быть, чтобы всё вокруг было, а меня не было?    ...'+taskStr, 
	titleAfter:'',
	indicator:{left:'8i_left.jpg', movingPrefix:'8i_moving', right:'8i_right.jpg'}, ambient:'8.mp3', background:imgFolder+'8background.jpg' },
    { title:nameOfTest+'Вопрос о бесконечности . . . . :     Помните ли Вы что Вас в детстве Вас поразило понятие бесконечности?(обычно первый раз мы слышим это понятие когда нам говорят, что Вселенная бесконечна) - - - - - Думаете ли Вы, что Вы тогда пытались представить бесконечность (или может помните что пытались представить бесконечность)? Что думали: как такое может быть что Вселенная бесконечна?  Например, как это может быть: летишь, летишь и звёздное небо в иллюминаторе никогда вообще не кончается?    ...'+taskStr, 
	titleAfter:'',
	indicator:{left:'9i_left.jpg', movingPrefix:'9i_moving', right:'9i_right.jpg'}, ambient:'9.mp3', background:imgFolder+'9background.jpg' },	
    { title:nameOfTest+'Вопрос о новом теле . . . . :     Наиболее радикальным способом омоложения на много лет можно считать создание клонов, заморозка их на этапе эмбрионов на много лет (такую заморозку делает сейчас репродуктивная медицина) и затем выращивание этих клонов до нужного возраста и копирования состояния мозга старого человека в эти “омоложенные” тела - - - - - Согласились ли бы Вы, в старости, на такую процедуру?   ...'+taskStr, 
	titleAfter:'',
	indicator:{left:'10i_left.jpg', movingPrefix:'10i_moving', right:'10i_right.jpg'}, ambient:'10.mp3', background:imgFolder+'10background.jpg' },
    { title:nameOfTest+'Вопрос об отношении к тому что будет после смерти . . . . :     Важно ли Вам что будет с Вашим телом после смерти? Важен ли правильный уважительный обряд прощания, традиции захоронения/кремилования/итд?  Прочитайте варианты и нажмите на ответ который Вам ближе', 
	titleAfter:'',
	indicator:{left:'12i_left.jpg', movingPrefix:'12i_moving', right:'12i_right.jpg'}, ambient:'12.mp3', background:imgFolder+'12background.jpg' },
	{ title:nameOfTest+'Вопрос о копировании мозга . . . . :     Уже сейчас разрабатыватываются медицинские технологии клонирования и замены человеческих органов (таких как печень). В случае заболевания соответствующих органов, они могут быть заменены их копиями с точными размерами и состоянием.  Нет сомнения в том, что, в будущем, подобная замена может производиться для всех органов, включая нервную ткань и сам мозг. В этом случае, больной мозг будет заменнён, на операционном столе, своей копией с точными размерами и состоянием - - - - - Согласились ли бы Вы на такую замену в случае необходимости?.   ...'+taskStr, 
	titleAfter:'',
	indicator:{left:'11i_left.jpg', movingPrefix:'11i_moving', right:'11i_right.jpg'}, ambient:'11.mp3', background:imgFolder+'11background.jpg' },
    { title:nameOfTest+'Вопрос о фильме «13-ый этаж» . . . . :     В 2000 году на премию «Сатурн» (лучший научно-фантастический фильм), были номинированы 2 фильма: «Матрица» и «Тринадцатый этаж», оба о жизни в виртуальном мире.  Разница между фильмами в том, что в «Матрице» люди помещаются в виртуальный мир насильственно, в результате захвата власти искуственным интеллектом. Такого никто по своей воле не захотел бы.  В фильме «Тринадцатый этаж» сознение людей копируется в виртуальный мир после того как они погибли в автомобильной аварии - - - - - Хотели бы Вы чтобы, в случае какой-либо катастрофы, Ваше сознание было бы скопировано для последующей жизни в виртуальном мире?  Прочитайте варианты и нажмите на ответ который Вам ближе', 
	titleAfter:'',
	indicator:{left:'13i_left.jpg', movingPrefix:'13i_moving', right:'13i_right.jpg'}, ambient:'13.mp3', background:imgFolder+'13background.jpg' },
	{ title:nameOfTest+'Вопрос о самоидентификации и теории Мыслящей материи . . . . :     Одно из психологических следствий теории Мыслящей материи – это  изменение самоидентификации человека - - - - - А с чем Вы идентифицируете себя? Вы – это что именно? Понятно, что из перечисленных на следующей странице, самоидентификаций, надо выбрать всё. Но выберите одну, самую важную для Вас самоидентификацию.   Прочитайте варианты и нажмите на ответ который Вам ближе', 
	titleAfter:'',
	indicator:{left:'14i_left.jpg', movingPrefix:'14i_moving', right:'14i_right.jpg'}, ambient:'14.mp3', background:imgFolder+'14background.jpg' },
  ];
  const FINAL_BACKGROUND = imgFolder+'FINbackground.jpg';


	linkAIorHIstr = 'https://AlesMishchenko.github.io/tests/how_does_AI_think.html';
	linkAIorHIstr = 'https://AlesMishchenko.github.io/tests/how_AI_thinks.html';

	linkTypesIstr = 'https://AlesMishchenko.github.io/tests/types_of_intellect.html';
	linkTypesIstr = 'https://AlesMishchenko.github.io/tests/intellectTypes.html';

	linkSoulDetectstr = 'https://AlesMishchenko.github.io/tests/soul_detectior.html';
	linkSoulDetectstr = 'https://AlesMishchenko.github.io/tests/soul_detection.html';
	
	linkDetailedSoulDetectstr = 'http://alespsychology.unaux.com/index.php';	
	linkDetailedSoulDetectstr = 'http://alespsychology.unaux.com/index.php';	

	linkALLstr = 'https://AlesMishchenko.github.io/tests/index.html';
	linkALLstr = 'https://AlesMishchenko.github.io/tests/index.html';

	linkINDULGstr = 'https://AlesMishchenko.github.io/indulgencia';
	linkINDULGstr = 'https://AlesMishchenko.github.io/indulgencia';
	
	linkTGstr = 'https://t.me/mymamume';
	linkTGstr = 'https://t.me/mymamume';

	SCOREstr1 = 'Your score: ';
	SCOREstr1 = 'Количество наиболее осознанных ответов: ';
	SCOREstr2 = '/'+screens.length.toString();

	finSCOREstr1 = 'Congratulations! You have passed Turing-Mishchenko test on existence of conscious & awareness (existence & awakeness of soul). Percentage of the most self-aware answers: ';
	finSCOREstr1 = 'Браво! Вы прошли тест Тьюринга-Мищенко наличия самосознания и осознанности (наличия и пробуждённости души).  Процент наиболее осознанных ответов: ';

	finSCOREstr2 = ' . . .  All your answers: ';
	finSCOREstr2 = ' . . .  Все ваши ответы: ';
	
	finSCOREstr3 = ' . . .  You can save these results and send them to alespsychology@protonmail.com for more detailed information on which aspects of self-awareness are more developped in your mind. Even more details with explanations and advices from psychologist is available upon detailed test on existence and developement of conscious & awareness(button below) . . .  Also, you can rerun the test again, try other tests or read awareness-related literary-texts and internet-channels:';
	finSCOREstr3 = ' . . .  Вы можете сохранить эти результаты, а также отослать их на alespsychology@protonmail.com для более подробной информации о том, какие стороны самосознания у Вас наиболее развиты. Ещё более подробную информацию с причинами ответов, объяснениями и советами психолога можно после более подробного теста наличия и развития самосознания и осознанности(кнопка внизу) . . .  Ещё, Вы можете пройти этот тест заново, пройти другие тесты или почитать литературные тексты и интернет-каналы, связанные с самосознанием и осознаностью. '+buttonTGstr;

	//finSCOREstr3 = ' . . .  Also, you can rerun the test again, try other tests or read abovementioned interactive essays:';
	//finSCOREstr3 = ' . . .  Ещё, Вы можете пройти этот тест заново, пройти другие тесты или почитать вышеупомянутые интерактивные эссе:';


	buttonAIorHIstr = 'Avanmonga-Mishchenko test on guessing what exactly AI wanted to draw  : do you understand the way AI thinks?' ; //'this test again'; // 
	buttonAIorHIstr = 'Тест Аванмонги-Мищенко на определение того что именно хотел изобразить ИИ : понимаете ли Вы как мыслит ИИ? '; //'этот тест заново'; // 
	//buttonAIorHIstr = 'This test again';
	//buttonAIorHIstr = 'Этот тест заново';
	
	buttonSoulDetectstr = 'Animated Turing-Mishchenko test on existence of conscious & awareness : do you have soul,  is it sleeping or awake?  ';
	buttonSoulDetectstr = "Анимированный тест Тьюринга-Мищенко наличия самосознания и осознанности : есть ли у Вас душа,  насколько она проявлена?  ";
	buttonSoulDetectstr = 'This test again';
	buttonSoulDetectstr = 'Этот тест заново';
	
	buttonDetailedSoulDetectstr = 'Detailed Turing-Mishchenko test on existence of conscious & awareness : details on existence, sleeping or awakeness of soul ';
	buttonDetailedSoulDetectstr = "Подробный тест Тьюринга-Мищенко наличия самосознания и осознанности : тест наличия, проявленности и пробуждённости души ";
	//buttonDetailedSoulDetectstr = 'This test again';
	//buttonDetailedSoulDetectstr = 'Этот тест заново';
	
	buttonTypesIstr = 'Test-questionaire of Catherine Khodorova on different types of intellect : do you know all sides of your intellect?  ';
	buttonTypesIstr = 'Тест-опрос Екатерины Ходровой на различные типы интеллекта : знаете ли Вы все стороны своего интеллекта?  ';
	//buttonTypesIstr = 'This test again';
	//buttonTypesIstr = 'Этот тест заново';
	
	buttonALLstr = 'All tests, literature texts and telegram-channels related to awareness';
	buttonALLstr = 'Все тесты, литературные тексты и телеграм-каналы, связанные с самосознанием и осознаностью';

	buttonINDULGstr = 'Abovementioned interactive essays';
	buttonINDULGstr = 'Вышеупомянутые интерактивные эссе';
	


  // DOM
  const appEl = document.getElementById('app');
  const titleEl = document.getElementById('title');   
  const imgTitleConst = document.getElementById('titleImgID'); //MY
  const scoreEl = document.getElementById('score');
  const middleEl = document.querySelector('.middle');
  const indicatorLeftEl = document.getElementById('indicatorLeft');
  const indicatorMovingEl = document.getElementById('indicatorMoving');
  const indicatorRightEl = document.getElementById('indicatorRight');
  const progressRedEl = document.getElementById('progressRed');

  // State
  let currentScreen = 0;
  let score = 0;
  let ambientAudio = null;
  let clickAudio = null;
  let rafId = null;
  let startTimestamp = 0;
  let indicatorStartTimestamp = 0;
  let indicatorDoneTriggered = false;
  let transitioning = false;
  let lettersOfAnswers = ['-','-','-','-','-','-','-','-','-','-','-','-','-','-']; //MY

  const letters = ['a','b','c','d','e','f','g','h','i','k','l','n','o'];

  // Utils
  function shuffle(arr){
    for(let i=arr.length-1;i>0;i--){
      const j=Math.floor(Math.random()*(i+1));
      [arr[i],arr[j]]=[arr[j],arr[i]];
    }
    return arr;
  }
  function makeAudio(src) {
    const a = new Audio(src);
    a.preload = 'auto';
    a.crossOrigin = 'anonymous';
    return a;
  }
  function stopAudio(a){ if(a){ try{ a.pause(); a.currentTime=0; }catch{} } }
  function setScore(){ scoreEl.textContent = ' '; } //function setScore(){ scoreEl.textContent = 'SCORE: ' + score; }
  function clearMiddle(){ middleEl.innerHTML=''; }

  // Build one card
  function buildCard(screenIndex, letter, labelText){
    const card = document.createElement('div');
    card.className = 'card';
    card.dataset.key = letter;

    const wrap = document.createElement('div');
    wrap.className = 'imgWrap';
    wrap.dataset.key = letter;

    const img = document.createElement('img');
    img.className = 'bigImg';
    img.src = imgFolder+`${screenIndex+1}${letter}.jpg`;
    //img.src = `${screenIndex+1}${letter}.jpg`;
    img.alt = labelText || letter;

    wrap.appendChild(img);
    card.appendChild(wrap);

    // Place label if enabled
    if (place_names_images !== 'no' && labelText) {
      const label = document.createElement('div');
      label.className = 'label ' + (place_names_images === 'left-and-up' ? 'left-up' : 'right-down');
      label.textContent = labelText;
      card.appendChild(label);
    }

    // Hover/touch enlarge per constBoarders
    const addHover = () => { (constBoarders ? wrap : card).classList.add('hovered'); };
    const removeHover = () => { wrap.classList.remove('hovered'); card.classList.remove('hovered'); };
    card.addEventListener('pointerenter', addHover, { passive:true });
    card.addEventListener('pointerleave', removeHover, { passive:true });
    card.addEventListener('pointercancel', removeHover, { passive:true });
    card.addEventListener('touchstart', addHover, { passive:true });
    card.addEventListener('touchend', removeHover, { passive:true });

    // Click behavior
    wrap.addEventListener('click', () => onBigImageClick(letter, img, screenIndex)); //MY screenIndex

    return card;
  }

  // Click handler: swap image, set title, play a/bc once, then advance after time_after_click
  function onBigImageClick(letter, imgEl, index){ //MY index
    if (transitioning) return;
    transitioning = true;

    stopAudio(ambientAudio);
	
	const cfg = screens[index]; //MY

    const isA = (letter === 'a');
    const clickSrc = isA ? CLICK_AUDIO_A : CLICK_AUDIO_BC;
	const replacementTitle = isA ? 'Результаты - в конце теста' : 'Результаты - в конце теста';
	/*
	//MY	
    replacementSrc = isA ? 'aClick.jpg' : 'bcClick.jpg';
	const isB = (letter === 'b'); 
	const isC = (letter === 'c');
	const isD = (letter === 'd');
	const isE = (letter === 'e');	
	const isF = (letter === 'f');	
	if (isB) { replacementSrc='bClick.jpg'; }
	if (isC) { replacementSrc='cClick.jpg'; }
	if (isD) { replacementSrc='dClick.jpg'; }
	if (isE) { replacementSrc='eClick.jpg'; }
	if (isF) { replacementSrc='fClick.jpg'; }
	*/
	//MY	
	replacementSrc=imgFolder+imgClickReaction[index]+Math.floor(Math.random()*5)+'click.jpg';
	

    if (isA) { score += 1; setScore(); }
    imgEl.src = replacementSrc;
    titleEl.textContent = replacementTitle;
	lettersOfAnswers[index]=letter; //MY

    stopAudio(clickAudio);
    clickAudio = makeAudio(clickSrc);
    const p = clickAudio.play();
    if (p && typeof p.catch === 'function') { p.catch(()=>{}); }

    setTimeout(goToNextScreen, time_after_click);
  }

  // Render screen; two-phase reveal when delay_of_subsequent_appearence_ms > 0
  function renderScreen(index){
    const cfg = screens[index];
    setScore();
    clearMiddle();
    transitioning = false;
    indicatorDoneTriggered = false;

    // Background, title, and indicator sources set immediately
    appEl.style.backgroundImage = `url('${cfg.background}')`;
    titleEl.textContent = cfg.title;
    indicatorLeftEl.src = imgFolder+cfg.indicator.left;
    indicatorRightEl.src = imgFolder+cfg.indicator.right;
    indicatorMovingEl.src = imgFolder+`${cfg.indicator.movingPrefix}0.jpg`;
	
	//const imgTitleConst = document.createElement('img');
    //imgTitleConst.className = 'imgTitleClass';
    imgTitleConst.src = imgFolder+imgClickReaction[index]+`.jpg`;
    imgTitleConst.alt = 'Человек вопроса';
	titleEl.appendChild(imgTitleConst);
		


    // Build items and randomize order
    const requestedN = number_of_big_size_images[index] || 0;
    const labels = names_of_big_size_images[index] || [];
    const maxN = Math.min(requestedN, letters.length, labels.length || requestedN);
    const items = [];
    for (let j = 0; j < maxN; j++) {
      items.push({ letter: letters[j], labelText: labels[j] || '' });
    }
    shuffle(items);
    const cards = items.map(({letter,labelText}) => buildCard(index, letter, labelText));
    cards.forEach(card => middleEl.appendChild(card));

    // Reveal strategy
    if (delay_of_subsequent_appearence_ms > 0) {
      // Phase 1: non–big-image elements
      const nonImageActions = [];

      // Hide non-image elements first
      titleEl.style.visibility = 'hidden';
      indicatorLeftEl.style.visibility = 'hidden';
      indicatorRightEl.style.visibility = 'hidden';
      indicatorMovingEl.style.visibility = 'hidden';
      progressRedEl.style.visibility = 'hidden';

      // (Background is already applied; we can add a dummy step so it participates in random order)
      nonImageActions.push(() => { /* background remains applied */ }); //WAS
	  //nonImageActions.push(() => { appEl.style.backgroundImage = 'visible';}); //MY DIDNT HELP
      nonImageActions.push(() => { titleEl.style.visibility = 'visible'; });
      nonImageActions.push(() => { indicatorLeftEl.style.visibility = 'visible'; });
      nonImageActions.push(() => { indicatorRightEl.style.visibility = 'visible'; });
      nonImageActions.push(() => { indicatorMovingEl.style.visibility = 'visible'; });
      nonImageActions.push(() => { progressRedEl.style.visibility = 'visible'; });

      // Phase 2: big-image cards
      const imageActions = [];
      cards.forEach(card => {
        card.style.visibility = 'hidden';
        imageActions.push(() => { card.style.visibility = 'visible'; });
      });

      // Shuffle each group separately and schedule
      shuffle(nonImageActions);
      shuffle(imageActions);

      nonImageActions.forEach((fn, i) => {
        setTimeout(fn, i * delay_of_subsequent_appearence_ms);
      });
      const offset = nonImageActions.length * delay_of_subsequent_appearence_ms;
      imageActions.forEach((fn, i) => {
        setTimeout(fn, offset + i * delay_of_subsequent_appearence_ms*timesCardsAppearSlowerThanIndicator);
      });
    } else {
      // Simultaneous appearance
      titleEl.style.visibility = 'visible';
      indicatorLeftEl.style.visibility = 'visible';
      indicatorRightEl.style.visibility = 'visible';
      indicatorMovingEl.style.visibility = 'visible';
      progressRedEl.style.visibility = 'visible';
      cards.forEach(card => { card.style.visibility = 'visible'; });
    }

    // Ambient audio (optional; stop after 20s; ignore autoplay errors)
    stopAudio(ambientAudio);
    ambientAudio = makeAudio(cfg.ambient);
    const ap = ambientAudio.play();
    if (ap && typeof ap.catch === 'function') { ap.catch(()=>{}); }
    setTimeout(() => stopAudio(ambientAudio), AMBIENT_DURATION_MS);

    // Start timestamps (indicator won’t restart on resize)
    startTimestamp = performance.now();
    indicatorStartTimestamp = startTimestamp;

    cancelAnimationFrame(rafId);
    rafId = requestAnimationFrame(tick);
  }

  // Next / final
  function goToNextScreen(){
    stopAudio(ambientAudio);
    stopAudio(clickAudio);
    cancelAnimationFrame(rafId);

    currentScreen += 1;
    if (currentScreen < screens.length) {
      renderScreen(currentScreen);
    } else {
      showFinalScreen();
    }
  }
  
    function doubleButtonFontSize(docPart) {
    // Select all button elements
    const buttons = docPart.querySelectorAll('button');

    buttons.forEach(button => {
        // Get computed font size (includes inherited styles)
        const computedSize = window.getComputedStyle(button).fontSize;

        // Parse numeric value and unit (usually 'px')
        const sizeValue = parseFloat(computedSize);
        const sizeUnit = computedSize.replace(sizeValue, '');

        if (!isNaN(sizeValue)) {
            // Double the size and apply it back
            button.style.fontSize = (sizeValue * 2) + sizeUnit;
        }
    });
  }
  
  function showFinalScreen(){
    stopAudio(ambientAudio);
    stopAudio(clickAudio);
    cancelAnimationFrame(rafId);

    appEl.style.backgroundImage = `url('${FINAL_BACKGROUND}')`;
    titleEl.textContent = finSCOREstr1  + Math.floor(100*score/screens.length) + finSCOREstr2 + lettersOfAnswers +finSCOREstr3; //MY

    clearMiddle();
    document.querySelector('.bottom').innerHTML = '';

    const actions = document.createElement('div');
    actions.className = 'finalActions';

    const to1Btn = document.createElement('button');
    to1Btn.className = 'finalBtn';
    to1Btn.textContent = buttonAIorHIstr ;
    to1Btn.addEventListener('click', () => { window.location.href = linkAIorHIstr; });

    const to2Btn = document.createElement('button');
    to2Btn.className = 'finalBtn';
    to2Btn.textContent = buttonSoulDetectstr;
    to2Btn.addEventListener('click', () => { window.location.href = linkSoulDetectstr; });
	
	const to6Btn = document.createElement('button');
    to6Btn.className = 'finalBtn';
    to6Btn.textContent = buttonDetailedSoulDetectstr;
    to6Btn.addEventListener('click', () => { window.location.href = linkDetailedSoulDetectstr; });

    const to3Btn = document.createElement('button');
    to3Btn.className = 'finalBtn';
    to3Btn.textContent = buttonTypesIstr;
    to3Btn.addEventListener('click', () => { window.location.href = linkTypesIstr; });

    const to4Btn = document.createElement('button');
    to4Btn.className = 'finalBtn';
    to4Btn.textContent = buttonALLstr;
    to4Btn.addEventListener('click', () => { window.location.href = linkALLstr; });
	
	//const to5Btn = document.createElement('button');
    //to5Btn.className = 'finalBtn';
    //to5Btn.textContent = buttonINDULGstr;
    //to5Btn.addEventListener('click', () => { window.location.href = linkINDULGstr; });
	
	/*
	const to6Btn = document.createElement('button');
    to6Btn.className = 'finalBtn';
    to6Btn.textContent = buttonTGstr;
    to6Btn.addEventListener('click', () => { window.location.href = linkTGstr; });
	const card = document.createElement('div');
    card.className = 'card';
	const wrap = document.createElement('div');
	wrap.className = 'imgWrap'; 
	const img = document.createElement('img');
    img.className = 'bigImg';
    img.src = '4M.jpg'; 	
	wrap.appendChild(img);
	card.appendChild(wrap);
    to6Btn.appendChild(card);
	*/

    actions.appendChild(to1Btn);
	actions.appendChild(document.createElement('hr'));
    actions.appendChild(to2Btn);
	actions.appendChild(document.createElement('hr'));
    actions.appendChild(to6Btn);
	actions.appendChild(document.createElement('hr'));
	actions.appendChild(to3Btn);
	actions.appendChild(document.createElement('hr'));
    actions.appendChild(to4Btn);
	actions.appendChild(document.createElement('hr'));

    //actions.appendChild(to5Btn);
	//actions.appendChild(document.createElement('hr'));	
    //actions.appendChild(to6Btn);
	//actions.appendChild(document.createElement('hr'));	
	
	actions.appendChild(document.createElement('hr'));	
	const minicard = document.createElement('div');
    minicard.className = 'minicard';
    const wrap = document.createElement('div');
    wrap.className = 'imgWrap'; 
    const img = document.createElement('img');
    img.className = 'bigImg'; 
    img.src = '4M.jpg'; 
    wrap.appendChild(img);
    minicard.appendChild(wrap);
    const label = document.createElement('div');
    label.className = 'label ' + 'right-down';
    label.textContent = "Ещё: ТГканал Мыслящая Материя Мудрого Метелика"; //labelText; МЫСЛЯЩАЯ МАТЕРИЯ МУДРОГО МЕТЕЛИКА
    minicard.appendChild(label);		
	minicard.addEventListener('click', () => { window.location.href = linkTGstr; });
	actions.appendChild(minicard);

	const minicard1 = document.createElement('div');
    minicard1.className = 'microcard';
    const wrap1 = document.createElement('div');
    wrap1.className = 'imgWrap'; 
    const img1 = document.createElement('img');
    img1.className = 'bigImg'; 
    img1.src = 'avtomidupupjpg'; 
    wrap1.appendChild(img1);
    minicard1.appendChild(wrap1);
    const label1 = document.createElement('div');
    label1.className = 'label ' + 'right-down';
    label1.textContent = "Связь с автором";
    minicard1.appendChild(label1);		
	minicard1.addEventListener('click', () => { window.location.href = linkTGstr; });
	actions.appendChild(minicard1);
	
	/*
	const TGchannel = document.createElement('div'); 
	TGchannel.className = 'imgWrap';
	TGchannel.innerHTML="Самые новые тесты, новости и тексты о самосознании - можно посмотреть в телеграм-канале  МЫСЛЯЩАЯ МАТЕРИЯ МУДРОГО МЕТЕЛИКА";  //
	const TGimg = document.createElement('img');
    img.className = 'indicatorImg';
    img.src = '4M.jpg';
    img.alt = 'TGimg';
    TGchannel.appendChild(TGimg);	
	actions.appendChild(TGchannel);
	*/
	
    middleEl.appendChild(actions);
	doubleButtonFontSize(actions);
  }

  // Animation loop: move_direction + global scale + hover enlarge + indicator progress with 8 frames
  function tick(now){
    const cards = Array.from(document.querySelectorAll('.card'));
    cards.forEach((card, idx) => {
      const wrap = card.querySelector('.imgWrap');
      const targetEl = constBoarders ? wrap : card;

      const rect = card.getBoundingClientRect();
      const baseSize = Math.min(rect.width, rect.height);
      const amp = baseSize * 0.05; // 5% amplitude
      const phase = idx * Math.PI / 3;
      const t = (now - startTimestamp) / 1000;

      let translateX = 0;
      let translateY = 0;
      let scaleDynamic = 1;

      if (move_direction === 'up-and-down') {
        translateY = Math.sin(t + phase) * amp;
      } else if (move_direction === 'left-and-right') {
        translateX = Math.sin(t + phase) * amp;
      } else if (move_direction === 'far-and-near') {
        scaleDynamic = (percOfAverSize/100) + (percUvelSize/100) * Math.sin(t + phase); // ±5% pulsing
      }

      const baseScale = Math.max(0.01, big_size_images_coefficient);  //const baseScale = Math.max(0.01, big_size_images_coefficient);
      const isHovered = targetEl.classList.contains('hovered');
      const hoverScale = isHovered ? (100+percUvelThenHovered)/100 : 1;

      const totalScale = baseScale * scaleDynamic * hoverScale;
      targetEl.style.transform = `translate(${translateX}px, ${translateY}px) scale(${totalScale})`;
      targetEl.style.transformOrigin = 'center center';
    });

    updateIndicator(now);
    rafId = requestAnimationFrame(tick);
  }

  // Indicator progress and auto-advance
  function updateIndicator(now){
    const indicatorEl = document.querySelector('.indicator');
    if (!indicatorEl) return;

    const innerWidth = indicatorEl.clientWidth || 0;
    const leftStop = 8 + 56;
    const rightStop = Math.max(leftStop, innerWidth - 8 - 56 - 56);

    const elapsed = now - indicatorStartTimestamp;
    const p = Math.max(0, Math.min(1, INDICATOR_GOING_FULLTIME_MS > 0 ? (elapsed / INDICATOR_GOING_FULLTIME_MS) : 0));

    const movingLeft = leftStop + (rightStop - leftStop) * p;
    indicatorMovingEl.style.left = movingLeft + 'px';

    const redWidth = Math.max(0, movingLeft - leftStop);
    progressRedEl.style.width = redWidth + 'px';
    progressRedEl.style.left = leftStop + 'px';

    const cfg = screens[currentScreen];
    if (cfg && cfg.indicator && cfg.indicator.movingPrefix) {
	  //const frame = Math.min(0, Math.max(0, Math.floor(p * 8))); //MY
      const frame = Math.min(7, Math.max(0, Math.floor(p * 8)));
      indicatorMovingEl.src = imgFolder+`${cfg.indicator.movingPrefix}${frame}.jpg`;
    }

    if (p >= 1 && !indicatorDoneTriggered && !transitioning) {
      indicatorDoneTriggered = true;
      transitioning = true;

      stopAudio(clickAudio);
      clickAudio = makeAudio('bc.mp3');
      const pp = clickAudio.play();
      setTimeout(goToNextScreen, 1000);
      if (pp && typeof pp.catch === 'function') { pp.catch(()=>{}); }
    }
  }

  // Start
  renderScreen(0);
});
</script>
</body>
</html>


